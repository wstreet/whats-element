!function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={exports:{}};t(n.exports),e.unknown=n.exports}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,(function(e){function t(){return t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}function n(e){var t=e.getBoundingClientRect(),n=document.body,r=document.documentElement,i=window.pageYOffset||r.scrollTop||n.scrollTop,l=window.pageXOffset||r.scrollLeft||n.scrollLeft,o=r.clientTop||n.clientTop||0,d=r.clientLeft||n.clientLeft||0,a=t.top+i-o,u=t.left+l-d;return{top:Math.round(a),left:Math.round(u)}}function r(e){if(!e)return e;var t=e;try{var n=e.split("."),r=n.slice(0,Math.fround(n.length/2)).join(".");if(!r)return e;document.querySelector(r)===document.querySelector(e)&&(t=r)}catch(e){}return t}e.__esModule=!0,e.default=void 0;var i=window.document,l=function(){},o=function e(n){this.options=t({draw:!0,simpleId:!0},n),this.lastClick=document.body;var r=this;document.addEventListener("mousedown",(function(t){r.lastClick=t.target,r.focusedElement!==r.lastClick&&e.prototype.clean()}))},d=o.prototype;e.default=o;var a="  ";d.getUniqueId=function(e,t){if(!((e=e||this.lastClick)instanceof HTMLElement))return console.error("input is not a HTML element",e),{};var n={wid:"",type:""},l=e.id,u=e.name,c=e.tagName.toLowerCase(),s=e.type?e.type.toLowerCase():"",f="";if((e.classList||[]).forEach((function(e){/^[a-zA-Z]/.test(e)&&(f+="."+e)})),"body"!==c&&"html"!==c||(n.wid=c,n.type=c),l&&i.getElementById(l)===e){var p=new RegExp("^[a-zA-Z]+");!t&&this.options.simpleId?n.wid=l:p.test(l)&&(n.wid=c+"#"+l),n.type="document.getElementById()"}if(!n.wid&&u&&i.getElementsByName(u)[0]===e&&(n.wid=u,n.type="document.getElementsByName()"),!n.wid&&f&&i.querySelector(c+f)===e&&(n.wid=c+f,n.type="document.querySelector()"),!n.wid&&"radio"===s){var y=c+"[value='"+e.value+"']";u&&(y+="[name='"+u+"']"),i.querySelector(y)===e&&(n.wid=y,n.type="document.querySelector()")}if(!n.wid&&"a"===c){var m,w=null==(m=e.attributes.href)?void 0:m.value;if(w)y="a[href='"+w+"']",i.querySelector(y)===e&&(n.wid=y,n.type="document.querySelector()")}if(n.wid||(y=c,y=f?y+f:y,y=u?y+"[name='"+u+"']":y,i.querySelector(y)===e&&(n.wid=y,n.type="document.querySelector()")),!n.wid){y=c,y=f?y+f:y;var g=i.querySelectorAll(y);if(g&&g.length>0){for(var h=null,v=0;v<g.length;v++)if(e===g[v]){h=v+1;break}h&&(y=y+":nth-child("+h+")",i.querySelector(y)===e&&(n.wid=y,n.type="document.querySelector()"))}}if(n.wid)n.wid,n.wid=r(n.wid),n.wid;else{var q=e.parentNode,E=o.prototype.getUniqueId(q,!0).wid;if(!(E=r(E)))return{wid:null,type:"NO_LOCATION_NOT_LOCATED_PARENT_WID"};var T=c;f&&(T+=f),y=E+a+T;var S=q.querySelectorAll(y);if([].filter.call(S,(function(e){return e.parentNode===q})).length>1){y=null;for(var b=-1,N=0;N<q.children.length;N++)if(q.children[N]===e){b=N+1;break}if(b>=1)y=E+a+T+":nth-child("+b+")",this.getTarget(y,"split")!==e&&(y="")}n.wid=y,n.type="split"}return this.focusedElement=d.getTarget(n.wid),!t&&this.options.draw&&this.draw(n),n.wid.length>"10"&&(n.warn=!0),n},d.getTarget=function(e,t,n){var r=null;e=e?e.trim():"";try{var l=n||i;if(!l||!e)return;var o=e.split(/\s{2}/);switch(t||o.length>1&&(t="split"),t){case"document.getElementById()":r=l.getElementById?l.getElementById(e):null;break;case"document.getElementsByName()":r=l.getElementsByName?l.getElementsByName(e)[0]:null;break;case"document.querySelector()":r=l.querySelector?l.querySelector(e):null;break;case"split":var d=o.filter((function(e){return!!e&&!!e.trim()}));if(d.length>1){var u=d[0],c=l.querySelectorAll(u),s=c[0]||this.getTarget(u);n&&(s=[].find.call(c,(function(e){return e.parentNode===n}))),d.splice(0,1);var f=d.join(a);r=this.getTarget(f,"split",s)}else{var p=i.querySelectorAll(d[0]);r=[].find.call(p,(function(e){return e.parentNode===n}))}break;default:r=this.getTarget(e,"document.getElementById()")||this.getTarget(e,"document.getElementsByName()")||this.getTarget(e,"document.querySelector()")}}catch(e){console.error(e)}return r},d.compute=function(e){e=e||this.lastClick;var t=this.getUniqueId(e),r=e.getBoundingClientRect(),i=r.left>0&&r.left<window.innerWidth&&r.top>0&&r.top<window.innerHeight;return{wid:t.wid,type:t.type,top:n(e).top,left:n(e).left,viewLeft:r.left,viewTop:r.top,text:e.innerText,visible:i}},d.clean=l,d.draw=l,window.whatsElement=o}));
